<ng-template #contenus>
    <ng-container *ngFor="let contenu of composant.contenus; index as i">
        <app-kf-composant [attr.nom]="contenu.nom" [class.kf-invisible]="!contenu.visible" [composant]="contenu" (output)="transmet($event)">
        </app-kf-composant>
    </ng-container>
</ng-template>
<!--
-->
<ng-template #dansListe>
    <ng-container *ngTemplateOutlet="contenus"></ng-container>
</ng-template>

<ng-template #formulaire>
    <!--" --> 
    <form #htmlElement [formGroup]="formGroup" novalidate [class]="'form-group was-validated ' + composant.classe" [class.kf-invisible]="!composant.visible">
        <div class="invalid-feedback">
            <p *ngFor="let erreur of composant.erreurs">{{erreur}}</p>
        </div>
        <ng-container *ngTemplateOutlet="contenus"></ng-container>
    </form>
</ng-template>

<ng-template #avecFormGroup>
    <div #htmlElement [formGroup]="formGroup" [class]="'form-group ' + composant.classe"  [class.kf-invisible]="!composant.visible">
        <ng-container *ngTemplateOutlet="contenus"></ng-container>
    </div>
</ng-template>
<ng-template #sansFormGroup>
    <div #htmlElement [class.kf-invisible]="!composant.visible" [class.form-group]="composant.estDansFormulaire" [ngClass]="composant.classe">
        <ng-container *ngTemplateOutlet="contenus"></ng-container>
    </div>
</ng-template>

<ng-template #pasFormulaire>
    <ng-container *ngIf="composant.typeDeValeur===typeDeValeur.avecGroupe; then avecFormGroup; else sansFormGroup"></ng-container>
</ng-template>
<ng-template #horsListe>
    <ng-container *ngIf="composant.estFormulaire; then formulaire; else pasFormulaire"></ng-container>
</ng-template>

<ng-container *ngIf="composant.estDansListe; then pasFormulaire; else horsListe"></ng-container>